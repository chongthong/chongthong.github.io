<!doctype html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ElectroLab - Hukum Kirchhoff Simulator</title>
    <link rel="stylesheet" href="style.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700&family=Roboto:wght@300;400;500&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="main-container">
      <!-- Header dengan tema elektronika -->
      <div class="header">
        <div class="header-content">
          <div class="logo-container">
            <i class="fas fa-bolt logo-icon"></i>
            <h1>
              ElectroLab
              <span class="logo-subtitle">Kirchhoff's Law Simulator</span>
            </h1>
          </div>
        </div>
      </div>

      <div class="content-wrapper">
        <!-- Panel Kiri: Instruksi & Hasil -->
        <div class="side-panel left-panel">
          <div class="card">
            <div class="card-header">
              <i class="fas fa-info-circle"></i>
              <h3>Instruksi & Kontrol</h3>
            </div>
            <div class="card-body">
              <p class="target-text">
                Lengkapi sirkuit dengan memasang <b>V2</b> dan <b>R2</b> ke slot
                yang sesuai. Atur nilai variabel, lalu klik
                <b>SIMULATE</b> untuk melihat hasil perhitungan Hukum Kirchhoff.
              </p>

              <div class="formula-section">
                <h4><i class="fas fa-calculator"></i> Hukum Kirchhoff</h4>
                <div class="formula-display">
                  <div class="formula-item">
                    <span class="formula">ΣV = 0</span>
                    <span class="formula-desc"
                      >Jumlah tegangan dalam loop tertutup = 0</span
                    >
                  </div>
                  <div class="formula-item">
                    <span class="formula">ΣI = 0</span>
                    <span class="formula-desc"
                      >Jumlah arus pada titik percabangan = 0</span
                    >
                  </div>
                  <div class="formula-item">
                    <span class="formula">Mesh Analysis</span>
                    <span class="formula-desc"
                      >I₃ = (V₁·R₂ + V₂·R₁) / ((R₁+R₃)(R₂+R₃) - R₃²)</span
                    >
                  </div>
                </div>
              </div>

              <div class="result-display">
                <div class="result-header">
                  <h4>Hasil Perhitungan</h4>
                </div>
                <div class="result-value">
                  <span class="result-label">Arus pada R3 (I₃):</span>
                  <div class="value-container">
                    <span id="i-display">0.000</span>
                    <span class="unit">A</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Panel Tengah: Sirkuit & Kontrol -->
        <div class="center-panel">
          <div class="circuit-container">
            <div class="circuit-header">
              <h3><i class="fas fa-project-diagram"></i> Workstation</h3>
              <div
                class="circuit-status-indicator"
                id="circuit-status-indicator"
              >
                <span class="status-dot"></span>
                <span class="status-text">Sirkuit Tidak Lengkap</span>
              </div>
            </div>

            <div class="circuit-board">
              <svg viewBox="0 0 500 300" class="circuit-svg">
                <!-- PCB Background -->
                <rect
                  x="10"
                  y="10"
                  width="480"
                  height="280"
                  rx="8"
                  fill="#FFFFFF"
                  opacity="0.9"
                />

                <!-- Circuit Traces -->
                <path
                  d="M 100 250 L 100 50 L 300 50 M 350 50 L 400 50 L 400 130 M 400 170 L 400 250 L 100 250 M 250 50 L 250 250"
                  fill="none"
                  stroke="#000000"
                  stroke-width="4"
                  stroke-linecap="round"
                  class="circuit-trace"
                />

                <!-- Labels -->
                <text x="165" y="30" class="svg-label">V1</text>
                <text x="65" y="145" class="svg-label">R1</text>
                <text x="215" y="145" class="svg-label">R3</text>
                <text x="315" y="30" class="svg-label hidden" id="label-v2">
                  V2
                </text>
                <text x="420" y="145" class="svg-label hidden" id="label-r2">
                  R2
                </text>

                <!-- Fixed Components -->
                <g transform="translate(140, 70) rotate(-90)">
                  <rect
                    x="5"
                    y="10"
                    width="30"
                    height="45"
                    rx="2"
                    fill="#2c3e50"
                    stroke="#333"
                    stroke-width="2"
                  />
                  <rect
                    x="12"
                    y="5"
                    width="16"
                    height="5"
                    fill="#f1c40f"
                    stroke="#333"
                    stroke-width="1"
                  />
                  <text
                    x="11"
                    y="40"
                    fill="white"
                    font-size="10"
                    font-weight="bold"
                  >
                    BAT
                  </text>
                </g>

                <g transform="translate(100, 147) rotate(90)">
                  <line
                    x1="-40"
                    y1="0"
                    x2="40"
                    y2="0"
                    stroke="#333"
                    stroke-width="3"
                  />
                  <rect
                    x="-20"
                    y="-10"
                    width="50"
                    height="20"
                    rx="10"
                    fill="#00FFFF"
                    stroke="#333"
                  />
                  <rect x="-10" y="-10" width="4" height="20" fill="#000" />
                  <rect x="-2" y="-10" width="4" height="20" fill="#000" />
                  <rect x="7" y="-10" width="4" height="20" fill="#000" />
                  <rect x="17" y="-10" width="4" height="20" fill="#000" />
                </g>

                <g transform="translate(250, 147) rotate(90)">
                  <line
                    x1="-40"
                    y1="0"
                    x2="40"
                    y2="0"
                    stroke="#333"
                    stroke-width="3"
                  />
                  <rect
                    x="-20"
                    y="-10"
                    width="50"
                    height="20"
                    rx="10"
                    fill="#00FFFF"
                    stroke="#333"
                  />
                  <rect x="-10" y="-10" width="4" height="20" fill="#000" />
                  <rect x="-2" y="-10" width="4" height="20" fill="#000" />
                  <rect x="7" y="-10" width="4" height="20" fill="#000" />
                  <rect x="17" y="-10" width="4" height="20" fill="#000" />
                </g>
              </svg>

              <!-- Drop Zones -->
              <div
                class="drop-zone horiz"
                id="slot-v2"
                data-type="battery"
                style="top: 45px; left: 265px"
              ></div>
              <div
                class="drop-zone vert"
                id="slot-r2"
                data-type="resistor"
                style="top: 130px; left: 339px"
              ></div>
            </div>

            <div class="circuit-controls">
              <div class="control-card">
                <h4><i class="fas fa-sliders-h"></i> Kontrol Variabel</h4>
                <div class="inputs-wrapper">
                  <div class="input-row">
                    <div class="input-group">
                      <div class="input-header">
                        <label for="v1-in">V1 (V)</label>
                      </div>
                      <div class="input-with-controls">
                        <input
                          type="number"
                          id="v1-in"
                          value="10"
                          min="1"
                          max="50"
                          step="0.5"
                        />
                      </div>
                    </div>

                    <div class="input-group">
                      <div class="input-header">
                        <label for="v2-in">V2 (V)</label>
                      </div>
                      <div class="input-with-controls">
                        <input
                          type="number"
                          id="v2-in"
                          value="12"
                          min="1"
                          max="50"
                          step="0.5"
                        />
                      </div>
                    </div>
                  </div>

                  <div class="input-row">
                    <div class="input-group">
                      <div class="input-header">
                        <i class="fas fa-resistor"></i>
                        <label for="r1-in">R1 (Ω)</label>
                      </div>
                      <div class="input-with-controls">
                        <input
                          type="number"
                          id="r1-in"
                          value="10"
                          min="1"
                          max="100"
                          step="1"
                        />
                      </div>
                    </div>

                    <div class="input-group">
                      <div class="input-header">
                        <i class="fas fa-resistor"></i>
                        <label for="r2-in">R2 (Ω)</label>
                      </div>
                      <div class="input-with-controls">
                        <input
                          type="number"
                          id="r2-in"
                          value="20"
                          min="1"
                          max="100"
                          step="1"
                        />
                      </div>
                    </div>
                  </div>

                  <div class="input-row">
                    <div class="input-group">
                      <div class="input-header">
                        <i class="fas fa-resistor"></i>
                        <label for="r3-in">R3 (Ω)</label>
                      </div>
                      <div class="input-with-controls">
                        <input
                          type="number"
                          id="r3-in"
                          value="30"
                          min="1"
                          max="100000"
                          step="1"
                        />
                      </div>
                    </div>
                  </div>
                </div>

                <button id="btn-generate" class="simulate-btn">
                  <i class="fas fa-play-circle"></i>
                  <span>SIMULATE</span>
                </button>
              </div>
            </div>
          </div>
        </div>

        <!-- Panel Kanan: Komponen -->
        <div class="side-panel right-panel">
          <div class="card">
            <div class="card-header">
              <i class="fas fa-toolbox"></i>
              <h3>Komponen Elektronika</h3>
            </div>
            <div class="card-body">
              <div class="component-shelf">
                <div class="component-item">
                  <div class="component-info">
                    <span class="comp-name">Resistor</span>
                  </div>
                  <div
                    class="draggable"
                    draggable="true"
                    id="drag-resistor"
                    data-type="resistor"
                  >
                    <div class="component-visual">
                      <svg width="80" height="30" viewBox="0 0 80 30">
                        <line
                          x1="0"
                          y1="15"
                          x2="80"
                          y2="15"
                          stroke="#333"
                          stroke-width="3"
                        />
                        <rect
                          x="15"
                          y="5"
                          width="50"
                          height="20"
                          rx="10"
                          fill="#00FFFF"
                          stroke="#333"
                        />
                        <rect x="25" y="5" width="4" height="20" fill="#000" />
                        <rect x="33" y="5" width="4" height="20" fill="#000" />
                        <rect x="41" y="5" width="4" height="20" fill="#000" />
                        <rect x="50" y="5" width="4" height="20" fill="#000" />
                      </svg>
                    </div>
                  </div>
                </div>

                <div class="component-item">
                  <div class="component-info">
                    <span class="comp-name">Baterai</span>
                  </div>
                  <div
                    class="draggable"
                    draggable="true"
                    id="drag-battery"
                    data-type="battery"
                  >
                    <div class="component-visual">
                      <svg width="40" height="55" viewBox="0 0 40 60">
                        <rect
                          x="5"
                          y="10"
                          width="30"
                          height="45"
                          rx="2"
                          fill="#2c3e50"
                          stroke="#333"
                          stroke-width="2"
                        />
                        <rect
                          x="12"
                          y="5"
                          width="16"
                          height="5"
                          fill="#f1c40f"
                          stroke="#333"
                          stroke-width="1"
                        />
                        <text
                          x="11"
                          y="40"
                          fill="white"
                          font-size="10"
                          font-weight="bold"
                        >
                          BAT
                        </text>
                      </svg>
                    </div>
                  </div>
                </div>

                <div class="component-item">
                  <div class="component-info">
                    <span class="comp-name">LED</span>
                  </div>
                  <div
                    class="draggable"
                    draggable="true"
                    id="drag-led"
                    data-type="led"
                  >
                    <div class="component-visual">
                      <svg width="40" height="60" viewBox="0 0 40 60">
                        <line
                          x1="6"
                          y1="35"
                          x2="6"
                          y2="56"
                          stroke="#333"
                          stroke-width="3"
                        />
                        <line
                          x1="34"
                          y1="35"
                          x2="34"
                          y2="56"
                          stroke="#333"
                          stroke-width="3"
                        />
                        <path
                          d="M5,35 L35,35 L35,20 Q35,0 20,0 Q5,0 5,20 Z"
                          fill="#FFFFFF"
                          stroke="#333"
                          class="led-bulb"
                        />
                      </svg>
                    </div>
                  </div>
                </div>

                <div class="component-item">
                  <div class="component-info">
                    <span class="comp-name">Kabel</span>
                  </div>
                  <div
                    class="draggable"
                    draggable="true"
                    id="drag-wire"
                    data-type="wire"
                  >
                    <div class="component-visual">
                      <svg width="80" height="30" viewBox="0 0 80 30">
                        <line
                          x1="0"
                          y1="15"
                          x2="80"
                          y2="15"
                          stroke="#333"
                          stroke-width="4"
                          stroke-linecap="round"
                        />
                      </svg>
                    </div>
                  </div>
                </div>

                <div class="component-item">
                  <div class="component-info">
                    <span class="comp-name">Kapasitor</span>
                  </div>
                  <div
                    class="draggable"
                    draggable="true"
                    id="drag-capacitor"
                    data-type="capacitor"
                  >
                    <div class="component-visual">
                      <svg width="40" height="60" viewBox="0 0 40 60">
                        <line
                          x1="14"
                          y1="45"
                          x2="14"
                          y2="60"
                          stroke="#333"
                          stroke-width="2.5"
                        />
                        <line
                          x1="26"
                          y1="45"
                          x2="26"
                          y2="60"
                          stroke="#333"
                          stroke-width="2.5"
                        />
                        <rect
                          x="8"
                          y="5"
                          width="24"
                          height="40"
                          rx="3"
                          fill="#34495e"
                          stroke="#333"
                          stroke-width="1.5"
                        />
                        <rect
                          x="22"
                          y="5"
                          width="10"
                          height="40"
                          rx="0"
                          fill="#bdc3c7"
                          opacity="0.8"
                        />
                        <text
                          x="24"
                          y="25"
                          fill="#34495e"
                          font-size="8"
                          font-weight="bold"
                        >
                          -
                        </text>
                        <text
                          x="24"
                          y="15"
                          fill="#34495e"
                          font-size="8"
                          font-weight="bold"
                        >
                          -
                        </text>
                        <text
                          x="24"
                          y="35"
                          fill="#34495e"
                          font-size="8"
                          font-weight="bold"
                        >
                          -
                        </text>
                        <ellipse
                          cx="20"
                          cy="7"
                          rx="12"
                          ry="3"
                          fill="#2c3e50"
                          stroke="#333"
                          stroke-width="1"
                        />
                      </svg>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="script.js"></script>
  </body>
</html>
